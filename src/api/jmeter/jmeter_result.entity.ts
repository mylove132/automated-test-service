import {
    CreateDateColumn,
    Entity,
    ManyToOne,
    PrimaryGeneratedColumn,
    Column,
    Unique,
} from 'typeorm';
import {JmeterEntity} from "./jmeter.entity";
import { JmeterRunStatus } from 'src/config/base.enum';

@Unique(['md5'])
@Entity('jmeter_result')
export class JmeterResultEntity {

    @PrimaryGeneratedColumn()
    id: number;

    @CreateDateColumn()
    createDate: Date;

    @ManyToOne(type => JmeterEntity, jmeter => jmeter.jmeterResults,{cascade: true,onDelete: 'SET NULL',onUpdate: 'CASCADE'})
    jmeter: JmeterEntity;

    @Column()
    md5: string;

    @Column('enum', {default: null, nullable:true, comment: '脚本运行状态', enum: JmeterRunStatus})
    jmeterRunStatus: JmeterRunStatus;
}
















































































































































































































































































































































































































































































































